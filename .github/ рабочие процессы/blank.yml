
const Discord = require('discord.js');
const { Client, RichEmbed } = require('discord.js'); 
const fs = require('fs'); 
const client = new Discord.Client(); 
let profile = require('./profile.json') const bot_name = "RiscoY" var thr; 
var secret_word; 
var words_game = false; 
var otvet; 
client.on('ready', () => { console.log(`Logged in as ${client.user.tag}!`); 
client.user.setActivity("!r help") var generalChannel = client.channels.get('559426727357448216') generalChannel.send(bot_name + " successfully conected to Discord server.") }); 
client.on('message', msg => { function flood() { for(var spam = 0; spam < 15; spam++) { msg.channel.send("flood flood flood flood flood flood flood flood"); 
} thr = false; 
} if(msg.author.bot) return; 
if(msg.author.id === client.user.id) return; 
let uid = msg.author.id; 
if(!profile[uid]) { profile[uid] = { coins: 0, warns: 0, xp: 0, lvl: 0, bitcoins: 0.001, ferms: 1, discord: 0, skype: 0, teamspeak: 0, total_msg: 0 }; 
}; 
let u = profile[uid]; 
fs.writeFile('./profile.json', JSON.stringify(profile), (err)=>{ if(err) console.log(err); }); 
.bitcoins+= 0.001 * u.ferms //levels if(u.xp >= 50 ) { u.lvl++; u.coins += 100; 
msg.reply("Congratulations, you have reached level " + u.lvl + ", good luck!!"); 
u.xp = 0; 
} if (msg.content === '!r info') { const embed = new RichEmbed() .setTitle('Bot Info:') .setColor(0xFF0000) // Set the main content of the embed .setDescription('authors: TheRobbCode, Sasha'); 
// Send the embed to the same channel as the message msg.channel.send(embed); 
} if(msg.content == '!r ferm') { msg.channel.send('Information about farms and bitcoins:\n1) When you write to the chat, you are given 0.001 bitcoin by default, having one farm. This amount depends on the number of your farms. If you have 20 farms, then when you write in chat, you will be given 0.020 bitcoin\n\n2)!r shop - You can buy bitcoin farms in the store\n3) !r sell - Sell bitcoins\n\nBitcoin exchange rate: 1200 coins'); 
} if(msg.content == "!r drugs") { msg.channel.send("!drugs discord - improves your condition, you become cheerful and strong (can be purchased in the store !r shop) Your nerves are getting stronger.\n!drugs skype - your eyes burst and 50% of your nerves fail to work (can be purchased in the store !r shop)\n!drugs teamspeak - You feel good but become homeless due to addiction (can be purchased in the store !r shop)"); 
} if (msg.content === '!r help') { const embed = new RichEmbed() .setTitle('Help-Menu:') .setColor(0xFF0000) // Set the main content of the embed .setDescription('HELP-MENU:\n\nCommands:\n!r profile - your profile\n!r shop - shop\n!r ferm - information about bitcoins and farms\n!r drugs - drug information\n!r bet - play the lottery for 100 coins. Everyone has the same chance to win. Users of all servers participate in the lottery\n!r info - full bot info\n\nGAMES:\n!words - Game "Guess the word"\n(game information: !info words)\n\nFunctions:\n!r flood - is used to to call admin or break the chat\n!r random - random number from 1 to 10\n') // Send the embed to the same channel as the message msg.channel.send(embed); 
} if(msg.content == '!r sell') { if(u.bitcoins < 1) { msg.reply('Bitcoins can not be sold if their number is less than 1.000, if this is a mistake, contact your administrator.') } if(u.bitcoins >= 1) { var sum_add = u.bitcoins * 1600; u.coins += sum_add; 
msg.reply('You sold ' + u.bitcoins + ' bitcoins and received ' + sum_add + ' coins') u.bitcoins-=u.bitcoins; } } if(msg.content == '!r bet') { u.coins-=100; var rand_sopernik = 0; var rand_play; var win; if(rand_sopernik == 0) { var rand_play = Math.floor(Math.random() * 51); chance = 25; if(rand_play >= chance) { u.coins+=200; msg.reply("You won 100 coins\n\nNumber of participants: 2") } if(rand_play < 25) { msg.reply("You lost 100 coins\n\nNumber of participants: 2") } } } if(msg.content == '!info words') { msg.channel.send("1) You need to answer the question that the bot will ask you;\n2) Ответ всегда с маленькой буквы и в 1 слово\n3) To answer, use: !r aswer слово\n4) To complete the game, use: !r s NTc4OTQ2MDM1MzQ3MzU3NzA2.Xm4XkA.0KOk-IAXv20QKpvzhpG6T1i1qKA
